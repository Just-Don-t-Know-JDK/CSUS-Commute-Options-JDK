<!-- Dane & Ethan -->

<!--
    I think we will probably have a navbar for the entire site, so maybe we include the graph options
    as a jumbotron-form where you can checkbox new commute methods to compare.
    Maybe this can instead just be another navbar that could be vertical on the left and the same form format.
-->
<!doctype html>
<html lang="en">
    <head>
        <!-- Meta Tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

        <!-- Bootstrap -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
        <link rel="stylesheet" href="sac css/all.css">

        <title>Data Analysis</title>

        <style>
            html{ overflow-y: scroll; }
        </style>
    </head>
    <body>

        <!-- Navbar -->
        <nav aria-labelledby="primary-navigation" class="navbar navbar-default navbar-light navbar-static-top splitter" id="csus-global-navbar">
            <h2 hidden id="primary-navigation">Primary Navigation</h2>
            <div class="container" role="menubar">
                <a class="navbar-brand" href="https://www.csus.edu" role="button" target="_parent">
                    <img alt="Sac State logo" src="https://www.csus.edu/NewCSUS2019-global-assets/_internal/images/logo-horizontal.png">
                </a>
                <ul class="nav justify-content-end" role="menubar">
                    <li role="menuitem"><a href="https://www.csus.edu/apply/index.html" role="button" target="_parent">APPLY</a></li>
                    <li role="menuitem"><a href="https://www.csus.edu/experience/index.html" role="button" target="_parent">EXPERIENCE</a></li>
                    <li role="menuitem"><a href="https://www.csus.edu/give/index.html" role="button" target="_parent">GIVE</a></li>
                </ul>
                <button aria-expanded="false" aria-haspopup="true" aria-label="Toggle Primary Navigation" class="navbar-toggler navbar-toggler-right navbar-toggler-icon"
                data-target="#quicklinks-modal" data-toggle="modal" href="#quicklinks-modal" type="button">MENU</button>
                <div aria-hidden="true" aria-labelledby="quicklinksModalLabel" class="modal fade" id="quicklinks-modal" role="dialog" tabindex="-1">
                    <div class="modal-dialog modal-dialog-slideout modal-sm" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h3 class="modal-title" hidden id="quicklinksModallabel">Explore</h3>
                                <button aria-hidden="true" aria-label="Close Primary Navigation" class="close" data-dismiss="modal" href="#" type="button">× </button>
                            </div>
                            <div class="modal-body">
                                <form action="https://www.csus.edu/search/" method="get" style="border: none;">
                                    <fieldset>
                                        <legend>Search</legend>
                                        <input autofocus="autofocus" clas="form-control" name="q" placeholder="Search" title="Search CSUS.edu" type="search">
                                        <button type="submit">
                                            <span style="text-indent: -999px; display: inline-block; max-width: 1px; overflow: hidden;">Search</span>
                                            <img alt="Submit Search" src="https://irt-cdn.webhost.csus.edu/cascade/csusnew2019/NewCSUS2019-global-assets/_internal/images/toolbar_find.png"
                                            title="Click to submit your search request" width="32" heigth="32">
                                        </button>
                                    </fieldset>
                                </form>
                                <ul class="q1-stacker" id="top-quick-links" role="menubar">
                                    <li role="menuitem"><a href="https://my.csus.edu">My Sac State</a></li>
                                    <li role="menuitem"><a href="https://www.trumba.com/calendars/sacramento-state-events?trumbaEmbed=filterview%3DFeaturedEvents">Events</a></li>
                                    <li role="menuitem"><a href="https://www.csus.edu/parking-transportation/index.html" target="_parent">Parking</a></li>
                                    <li role="menuitem"><a href="https://www.csus.edu/campusmap/">Campus Map</a></li>
                                </ul>
                                <div id="nav-accordion">
                                    <div class="card">
                                        <div class="card-header" id="heading-student-life">
                                            <a aria-controls="accordion-student-life" aria-expanded="false" class="btn btn-link" data-target="#accordion-student-life" data-toggle="collaspe"
                                            href="#accordion-student-life">Student Life</a>
                                        </div>
                                        <div aria-labelledby="heading-student-life" class="collaspe" data-parent="#nav-accordion" id="accordion-student-life">
                                            <div class="card-body">
                                                <ul role="menubar">
                                                    <li role="menuitem"><a href="https://www.csus.edu/student-life/academic-advising/index.html">Academic Advising</a></li>
                                                    <li role="menuitem"><a href="https://www.asi.csus.edu">ASI</a></li>
                                                    <li role="menuitem"><a href="https://www.csus.edu/student-life/career-center/index.html">Career Center</a></li>
                                                    <li role="menuitem"><a href="https://www.csus.edu/student-life/class-schedules/index.html">Class Schedules</a></li>
                                                    <li role="menuitem"><a href="https://www.csus.edu/student-life/health-counseling/index.html">Health & Counseling</a></li>
                                                    <li role="menuitem"><a href="https://www.csus.edu/student-life/housing/index.html">Housing</a></li>
                                                    <li role="menuitem"><a href="https://www.csus.edu/student-life/records-transcripts/index.html">Records & Transcripts</a></li>
                                                    <li role="menuitem"><a href="https://www.csus.edu/student-life/student-organizations/index.html">Student Organizations</a></li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="card mobile-nav-only">
                                        <div class="card-header" id="heading-admissions">
                                            <a aria-controls="accordion-admissions" aria-expanded="false" class="btn btn-link" data-target="#accordion-admissions" data-toggle="collaspe"
                                            href="#accordion-admissions">Apply</a>
                                        </div>
                                        <div aria-labelledby="heading-admissions" class="collapse" data-parent="#nav-accordion" id="accordion-admissions">
                                            <div class="card-body">
                                                <ul role="menubar">
                                                    <li role="menuitem"><a href="https://ww2.calstate.edu/apply" target="_parent">Apply Online</a></li>
                                                    <li role="menuitem"><a href="https://www.csus.edu/apply/enrollment-costs-fees/index.html" target="_parent">Enrollment Costs & Fees</a></li>
                                                    <li role="menuitem"><a href="https://www.csus.edu/apply/financial-aid-scholarships/index.html" target="_parent">Financial Aid & Scholarships</a></li>
                                                    <li role="menuitem"><a href="https://www.csus.edu/apply/student-orientation/index.html" target="_parent">Student Orientation</a></li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="card">
                                        <div class="card-header" id="heading-academics">
                                            <a aria-controls="accordion-academics" aria-expanded="false" class="btn btn-link" data-target="accordion-academics" data-toggle="collapse"
                                            href="#accordion-academics">Academics</a>
                                        </div>
                                        <div aria-labelledby="heading-academics" class="collapse" data-parent="#nav-accordion" id="accordion-academics">
                                            <div class="card-body">
                                                <ul role=menubar>
                                                   <li role="menuitem"><a href="https://www.csus.edu/college/index.html" target="_parent">Colleges, Majors & Programs</a></li>
                                                   <li role="menuitem"><a href="https://catalog.csus.edu/" target="_parent">University Catalog</a></li>
                                                   <li role="menuitem"><a href="https://www.csus.edu/undergraduate-studies/index.html" target="_parent">Undergraduate Studies</a></li> 
                                                   <li role="menuitem"><a href="https://www.csus.edu/graduate-studies/index.html" target="_parent">Graduate Studies</a></li>
                                                   <li role="menuitem"><a href="https://www.csus.edu/international-programs-global-engagement/index.html" target="_parent">International Programs</a></li>
                                                   <li><a href="https://library.csus.edu">Library</a></li> 
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="card">
                                        <div class="card-header" id="heading-athletics">
                                            <a class="btn btn-link" href="https://hornetsports.com">Athletics</a>
                                        </div>
                                    </div>
                                    <div class="card">
                                        <div class="card-header" id="heading-inside-sac-state" class="collaspe" data-parent="#nav-accordion" id="accordion-inside-sac-state">
                                            <a aria-controls="accordion-inside-sac-state" aria-expanded="false" class="btn btn-link" data-target="#accordion-inside-sac-state" data-toggle=
                                            "collapse" href="#accordion-inside-sac-state">Inside Sac State</a>
                                        </div>
                                        <div aria-labelledby="heading-inside-sac-state" class="collapse" data-parent="#nav-accordion" id="accordion-inside-sac-state">
                                            <div class="card-body">
                                                <ul role="menubar">
                                                    <li role="menuitem"><a href="https://www.csus.edu/academic-affairs/index.html" target="_parent">Academic Affairs</a></li>
                                                    <li role="menuitem"><a href="https://www.csus.edu/administration-business-affairs/index.html" target="_parent">Administration & Business Affairs</a></li>
                                                    <li role="menuitem"><a href="https://www.csus.edu/diversity-inclusion/index.html" target="_parent">Diversity & Inclusion</a></li>
                                                    <li role="menuitem"><a href="https://www.csus.edu/information-resources-technology/index.html" target="_parent">Information Resources & Tech.</a></li>
                                                    <li role="menuitem"><a href="https://www.csus.edu/president/index.html" target="_parent">Office of the President</a></li>
                                                    <li role="menuitem"><a href="https://www.csus.edu/public-affairs-advocacy/index.html" target="_parent">Public Affairs & Advocacy</a></li>
                                                    <li role="menuitem"><a href="https://www.csus.edu/student-affairs/index.html" target="_parent">Student Affairs</a></li>
                                                    <li role="menuitem"><a href="https://www.enterprises.csus.edu/" target="_parent">UEI - University Enterprises. Inc.</a></li>
                                                    <li role="menuitem"><a href="https://www.csus.edu/university-advancement/index.html" target="_parent">University Advancement</a></li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="card mobile-nav-only">
                                        <div class="card-header" id="heading-experience-sac-state">
                                            <a aria-controls="accordion-experience-sac-state" aria-expanded="false" class="btn btn-link" data-target="#accordion-experience-sac-state" data-toggle=
                                            "collapse" href="#accordion-experience-sac-state">Experience Sac State</a>
                                        </div>
                                        <div aria-labelledby="heading-experience-sac-state" class="collapse" data-parent="#nav-accordion" id="accordion-experience-sac-state">
                                            <div clas="card-body">
                                                <ul role="menubar">
                                                    <li role="menuitem"><a href="https://www.csus.edu/experience/alumni-association/index.html" target="_parent">Alumni Association</a></li>
                                                    <li role="menuitem"><a href="https://www.hornetsports.com" target="_parent">Athletics</a></li>
                                                    <li role="menuitem"><a href="https://www.csus.edu/experience/anchor-university/index-old.html" target="_parent">Community Engagement</a></li>
                                                    <li role="menuitem"><a href="https://www.csus.edu/experience/innovation-creativity/index.html" target="_parent">Innovation & Creativity</a></li>
                                                    <li role="menuitem"><a href="https://www.csus.edu/news/" target="_parent">News</a></li>
                                                    <li role="menuitem"><a href="https://www.csus.edu/experience/student-success/index.html" target="_parent">Student Success</a></li>
                                                    <li role="menuitem"><a href="https://thewellatsacstate.com/" target="_parent">The WELL</a></li>
                                                    <li role="menuitem"><a href="https://www.csus.edu/experience/visit/index.html" target="_parent">Visit Sac State</a></li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="card">
                                        <div class="card-header" id="heading-directory">
                                            <a class="btn btn-link" href="https://directory.csus.edu">Directory</a>
                                        </div>
                                    </div>
                                    <div class="card">
                                        <div class="card-header" id="heading-jobs">
                                            <a clas="btn btn-link" href="https://www.csus.edu/administration-business-affairs/human-resources/">Jobs</a>
                                        </div>
                                    </div>
                                    <div class="card mobile-nav-only">
                                        <div class="card-header" id="heading-give">
                                            <a class="btn btn-link" href="https://www.csus.edu/give/">Give</a>
                                        </div>
                                    </div>
                                    <ul aria-label="Campus-Wide Social Quick Links" class="justify-content-center" id="social-quick-links" role="menubar">
                                        <li role="menuitem"><a href="https://www.facebook.com/sacstate">Visit Sac State at Facebook</a></li>
                                        <li role="menuitem"><a href="https://www.twitter.com/sacstate">Visit Sac State at Twitter</a></li>
                                        <li role="menuitem"><a href="https://www.instagram.com/sacstate">Visit Sac State at Instagram</a></li>
                                        <li role="menuitem"><a href="https://www.youtube.com/SacStateVideo">Visit Sac State at Youtube</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </nav>

        <nav class="navbar-expand-lg navbar-dark" style="background-color: gold; padding: 10px;">
            <div class="container">
                <form id="option" class="form">

                    <div class="form-group">
                        <label>Cost Comparison type</label>
                        <select id="parent" class="form-control">
                            <option value="sustainability">Sustainability</option>
                            <option value="time">Time</option>
                            <option value="money">Money</option>
                        </select>
                    </div>

                    <div class="form-group ml-auto">
                        <label>Second Bar</label>
                        <select id="second" class="form-control">
                            <option value="SOV">Single Occupant Vehicle</option>
                            <option value="MOV">Multi-Occupant Vehicle</option>
                            <option value="Motorcycle">Motorcycle</option>
                            <option value="Transit">Transit</option>
                            <option value="Bicycle">Bicycle</option>
                            <option value="Walking">Walking</option>
                        </select>
                    </div>

                </form>
            </div>
        </nav>
        
        <main class="col bg-faded py-3 mx-auto" style="width: 1200px;">
            <canvas class="my-4 chartjs-render-monitor" id="myChart" width="554" height="233" style="display: block; width: 554px; height: 233px;">
        </main>

        <div class="container" style="background-color: gold; width: 1000px;">
            <div class="row">
                <div class="col-5 mx-auto" style="text-align: center;">
                    <h2 id="head1">Sustainability</h2>
                    <br>
                </div>
                <div class="col-5 mx-auto" style="text-align: center;">
                    <h2 id="head2">Single Occupant Vehicle</h2>
                </div>
            </div>
            <div class="row justify-content-around">
                <div class="col-5 mx-auto" style="text-align: center;">
                    <p id="p1">The sustainability of a commute mode represents its impact on the environment. To come to our calculations for each mode, 
                        we took the averages of each mode's miles per gallon alongside your inputted data to determine how much you would on average
                        impact the environment with the given mode.
                    </p>
                </div>
                <div class="col-5 mx-auto" style="text-align: center;">
                    <p id="p2">The single occupant vehicle carbon consumption per year with your given inputs would be </p>
                </div>
            </div>
        </div>


        <footer aria-labelledby="container-fluid" class="footer vcard" id="csus-global-footer">
            <div class="container-fluid" style="background-color: black;">
                <h2 aria-hidden="true" class="d-none" id="footer-extras">Campus Contact Information</h2>
                <div class="row">
                    <h3 aria-hidden="true" class="d-none" id="campus-social-links">Campus-Wide Social Media Navigation</h3>
                    <ul aria-labelledby="campus-social-links" class="list-inline text-center col-md-4 order-md-2">
                        <li><a class="url uid" href="https://www.twitter.com/sacstate">Visit Sac State at Twitter</a></li>
                        <li><a class="url uid" href="https://www.facebook.com/sacstate">Visit Sac State at Facebook</a></li>
                        <li><a class="url uid" href="https://www.instagram.com/sacstate">Visit Sac State at Instagram</a></li>
                        <li><a class="url uid" href="https://www.linkedin.com/school/sacstate">Visit Sac State at LinkedIn</a></li>
                        <li><a class="url uid" href="https://www.flickr.com/photos/sacstate">Visit Sac State at Flickr</a></li>
                        <li><a class="url uid" href="https://www.youtube.com/SacStateVideo">Visit Sac State at Youtube</a></li>
                    </ul>
                    <a href="https://www.csus.edu" title="Click logo to return to Sac State Home Page" style="padding-top: 20px;">
                        <img alt="Sac State Logo, white on dark" src="https://irt-cdn.webhost.csus.edu/cascade/csusnew2019/NewCSUS2019-global-assets/_internal/images/whitelogo-stacked.png">
                    </a>
                    <address class="col-md-4 order-md-3 adr text-light" translate="no" typeof="schema:PostalAddress">
                       <span class="organization-name org fn" property="schema:name">California State University, Sacramento</span>
                       <br>
                       <span class="nickname d-none">Sac State</span>
                       <span class="street-address" property="schema:streetAddress">6000 J Street</span>
                       ,
                       <span class="locality" property="schema:addressLocality">Sacramento</span> 
                        ,
                       <abbr class="region" property="schema:addressRegion" title="California">CA</abbr>
                       <span class="postal-code" property="schema:postalCode">95819</span>
                       <abbr class="country-name" property="schema:addressCountry" title="United States">USA</abbr>
                       <br>
                       Campus Main Phone: 
                       <a class="phone" href="tel:+19162786011">(916) 278-6011</a>
                       <span class="geo d-none">
                           <abbr class="latitude" title="48.816667">N 56° 38.5607423</abbr>
                           <abbr class="longitude" title="2.366667">W 42° -121.4235885</abbr>
                       </span>
                    </address>
                </div>
            </div>
            <div aria-labelledby="compliance-links" class="container-fluid bottombar">
                <h3 aria-hidden="true" class="d-none" id="compliance-links">Compliance Links</h3>
                <a class="dot" href="https://csus.cascadecms.com/entity/open.act?id=ed08ea0f0a73e9e40d31985040e86681&type=page">Edit page in Cascade WCM</a>   
                <ul class="offset-md-2" role="menu">
                    <li role="menuitem"><a class="url uid" href="https://ww2.calstate.edu/">California State University</a></li>
                    <li role="menuitem"><a class="url uid" href="https://www.csus.edu/compliance/index.html">Compliance</a></li>
                    <li role="menuitem"><a class="url uid" href="https://ww.csus.edu/campus-safety/index.html">Campus Saftey</a></li>
                    <li role="menuitem"><a class="url uid" href="https://www.csus.edu/information-resources-technology/ati/accessibility-statement.html">Accessibility Statement</a></li>
                    <li role="menuitem"><a class="url uid" href="https://www.csus.edu/title-ix/index.html">Title IX</a></li>
                    <li role="menuitem"><a class="url uid" href="https://www.csus.edu/comments/index.html">Comments</a></li>
                </ul>
            </div>
          
          </footer>
        
        
        
        <!-- Other Stuff -->
        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
        <script src="sac css/global-scripts.js"></script>
        <!-- Charts.js -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.1/Chart.min.js"></script>
        <!-- jQuery -->
        <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
        <script>
            let mpg = window.localStorage.getItem('mpg');
            let insurance = window.localStorage.getItem('insurance');
            let travelInfo = JSON.parse(window.localStorage.getItem('travelInfo'));
            let frequency = window.localStorage.getItem('frequency');
            let userType = window.localStorage.getItem('mode');
            processType();

            // Process some slightly different data for database storage
            let userData = {
                mpg: mpg,
                insurance: insurance,
                distance: Math.round(meterToMile(travelInfo[userType][0]) * 10)/10,
                time: Math.round(((travelInfo[userType][1])/60.0) * 10)/10,
                mode: window.localStorage.getItem('mode')
            };
            // Post user data to server
            const options = {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(userData)
            }
            fetch('/userData', options).then(response => {
                console.log(response);
            });

            let money = (insurance*12);                             // How much the user pays yearly in insurance & parking

            function processType() {
                if (userType == 'SOV')
                    userType = 0;
                else if (userType == 'MOV')
                    userType = 0;
                else if (userType == 'Motorcycle')
                    userType = 0;
                else if (userType == 'Transit')
                    userType = 3;
                else if (userType == 'Bike')
                    userType = 2;
                else
                    userType = 1;
            }

            function sustainabilityCalc(mpg, distance, freq) {
                return ((((8887/mpg)*distance*2.0*freq*52.0)/1000)*2.205)/1000  // CO2 emissions in kg converted to lbs then to tons
            }
            
            function meterToMile(meters) {
                return meters*0.000621371192;
            }

            function timeCalc(seconds, freq) {
                return (seconds/3600.0)*freq*52.0*2.0;
            }

            let graphInfo = {
                sustainVals: [
                    Math.round(sustainabilityCalc(mpg, meterToMile(travelInfo[userType][0]), frequency) * 10)/10, // Users consumption
                    Math.round(sustainabilityCalc(24.2, meterToMile(travelInfo[0][0]), frequency) * 10)/10,         // SOV
                    Math.round(sustainabilityCalc(25.50, meterToMile(travelInfo[0][0]), frequency) * 10)/10,        // MOV
                    Math.round(sustainabilityCalc(44, meterToMile(travelInfo[0][0]), frequency) * 10)/10,           // Motorcycle
                    Math.round(sustainabilityCalc(5.18, meterToMile(travelInfo[3][0]), frequency) * 10)/10,         // Transit (Have to consider individual responsibility)
                    0,                                                                          // Bike
                    0                                                                           // Walking
                    ],
                timeVals: [                                                                     // LOGIC ERROR?
                    Math.round(timeCalc(travelInfo[userType][1], frequency)),
                    Math.round(timeCalc(travelInfo[0][1], frequency)),
                    Math.round(timeCalc(travelInfo[0][1], frequency)),
                    Math.round(timeCalc(travelInfo[0][1], frequency)),
                    Math.round(timeCalc(travelInfo[3][1], frequency)),
                    Math.round(timeCalc(travelInfo[2][1], frequency)),
                    Math.round(timeCalc(travelInfo[1][1], frequency))
                ],
                moneyVals: [            // All is yearly
                    money,
                    6201.0,             // SOV (sources in google drive)
                    6201.0,             // MOV (can be split, sole, or no responsibility)
                    1500.0,             // Motorcycle (from https://www.nadaguides.com/Motorcycles/shopping-guides/how-much-does-it-cost-to-service-a-motorcycle#:~:text=Just%20as%20new%20and%20used,it%20in%2C%20and%20so%20on.)
                    700.0,              // Transit (from https://www.usatoday.com/story/money/2018/09/25/transportation-costs-cities-most-expensive/37866627/)
                    350.0,              // Bike (from https://www.treehugger.com/how-much-does-it-cost-to-commute-by-bike-4858452#:~:text=Based%20on%20an%20annual%20average,or%203.84%20minutes%20a%20day.)
                    0                   // Walking (costs shoes but w/e)
                ]
            }

            var ctx = document.getElementById("myChart");
            var myChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ["Your Values", $('#second option:selected').text()],
                    datasets: [{
                        data: [graphInfo.sustainVals[0], graphInfo.sustainVals[1]],
                        backgroundColor: ["#dad9u","#3e95cd"],
                        barPercentage: 0.5,
                        barThickness: 6,
                        maxBarThickness: 8,
                        minBarLength: 2
                    }]
                },
                options: {
                    legend: {   display: false  },
                    title: {
                        display: true,
                        text: 'Carbon Emissions (tons/yr)'
                    },
                    scales: {
                        yAxes: [{
                            ticks: {
                                beginAtZero: true
                            }
                        }]
                    }
                }
            });

            function secondOptionSwitch() {
                myChart.data.labels = ['Your Values', $('#second option:selected').text()];
                changeCompare($('#second option:selected').text(), 1, getType($('#parent option:selected').text()));
                myChart.update();
            }

            $('#parent').change(function(){
                if ($('#parent option:selected').text() == 'Sustainability') {
                    myChart.options.title.text = 'Carbon Emissions (tons/yr)';
                    $("#p1").html(
                        `
                        The sustainability of a commute mode represents its impact on the environment. To come to our calculations for each mode, 
                        we took the averages of each mode's miles per gallon alongside your inputted data to determine how much you would on average
                        impact the environment with the given mode.
                        `
                    );
                }
                else if ($('#parent option:selected').text() == 'Time') {
                    myChart.options.title.text = 'Time Traveled (hrs/yr)';
                    $("#p1").html(
                        `
                        The time concerns of a commute mode are the amount of time that we predict this commute mode to take in your situation.
                        To calculate this, we used an algorithm to determine the fastest route you would take to get to Sacramento State and how many times
                        you would commute a week and then upscaled the data to a yearly scale.
                        `
                    );
                }
                else if ($('#parent option:selected').text() == 'Money') {
                    myChart.options.title.text = 'Travel Cost (dollars/yr)';
                    $("#p1").html(
                        `
                        The money concerns of a commute mode is just how much it will cost you to pay for your typical commute on a yearly scale.
                        `
                    );
                }

                changeCompare('Your Values', 0, getType($('#parent option:selected').text()));
                secondOptionSwitch();
                myChart.update();
                $("#head1").html($('#parent option:selected').text());
            });

            function getType(value) {
                if (value == 'Sustainability')
                    return graphInfo.sustainVals;
                else if (value == 'Time')
                    return graphInfo.timeVals;
                else if (value == 'Money')
                    return graphInfo.moneyVals;
            }

            function changeCompare(value, index, array) {
                if (value == 'Your Values')
                    myChart.data.datasets[0].data[index] = array[0];
                else if (value == 'Single Occupant Vehicle')
                    myChart.data.datasets[0].data[index] = array[1];
                else if (value == 'Multi-Occupant Vehicle')
                    myChart.data.datasets[0].data[index] = array[2];
                else if (value == 'Motorcycle')
                    myChart.data.datasets[0].data[index]= array[3];
                else if (value == 'Transit')
                    myChart.data.datasets[0].data[index] = array[4];
                else if (value == 'Bicycle')
                    myChart.data.datasets[0].data[index] = array[5];
                else if (value == 'Walking')
                    myChart.data.datasets[0].data[index] = array[6];
            }

            // Initializing the second text box
            let temp = 'better';
            if (myChart.data.datasets[0].data[1] < myChart.data.datasets[0].data[0])
                temp = 'worse';
            else if (myChart.data.datasets[0].data[1] == myChart.data.datasets[0].data[0])
                temp = 'equivalent';

            $('#p2').html('In terms of ' + $('#parent option:selected').text().toLowerCase() + ' your current commute mode is ' + temp + ' than '
                + $('#second option:selected').text().toLowerCase() + 's on average.');

            $('#second').change(function(){
                $('#head2').html($('#second option:selected').text());

                secondOptionSwitch();

                let temp = 'better';
                if (myChart.data.datasets[0].data[1] < myChart.data.datasets[0].data[0])
                    temp = 'worse';
                else if (myChart.data.datasets[0].data[1] == myChart.data.datasets[0].data[0])
                    temp = 'equivalent';

                $('#p2').html('In terms of ' + $('#parent option:selected').text().toLowerCase() + ' your current commute mode is ' + temp + ' than '
                 + $('#second option:selected').text().toLowerCase() + 's on average.');
            });
        </script>
    </body>
</html>